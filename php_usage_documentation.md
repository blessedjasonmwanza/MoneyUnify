# MoneyUnify Library PHP Documentation


The **MoneyUnify** library provides an easy interface for integrating with the Money Unify API to process payments. This documentation will guide you through the installation process and demonstrate how to use the library effectively.

## Installation

1. **Install Composer** (if you haven‚Äôt already). Follow the [Composer installation guide](https://getcomposer.org/download/).
2. **Install the MoneyUnify Library** by adding it to your `composer.json`:

   ```bash
   composer require blessedjasonmwanza/moneyunify
   ```

## Usage

### Basic Usage

To use the MoneyUnify library, follow these steps:

1. **Include the Autoload File**: This file is generated by Composer and will allow you to use the classes in your project.

2. **Create an Instance of the `MoneyUnify` Class**: You will need a unique identifier (MUID) for your Money Unify account.

3. **Call the `requestPayment` Method**: This method takes the payer's phone number and the amount to pay as parameters.

### Example Code for Requesting a Payment

Here‚Äôs an example demonstrating how to use the MoneyUnify library to request a payment:

```php
<?php

require 'vendor/autoload.php'; // Include Composer autoload

use Blessedjasonmwanza\MoneyUnify\MoneyUnify;

// Step 1: Create an instance of MoneyUnify with your MUID
$muid = 'your_unique_muid'; // Replace with your actual MUID (MoneyUnify ID / token)
$moneyUnify = new MoneyUnify($muid);

// Step 2: Call the requestPayment method
$payerPhoneNumber = '0xxxxxxxx'; // Replace with the payer's (or buyer of your product) phone number (10 digits phone number)
$amountToPay = '10'; // The amount to be paid

$response = $moneyUnify->requestPayment($payerPhoneNumber, $amountToPay);

// Step 3: Check the response
if ($response->isError) {
    // Handle the error
    echo "Error: " . $response->message . "\n";
    echo "Console: " . ($response->console ?? 'No console message to debug') . "\n";
} else {
    // Payment request was successful
    echo "Success: " . $response->message . "\n";
    echo "Data: " . json_encode($response->data) . "\n";
}
```

### Example Successful Response

Here‚Äôs an example of a successful transaction response from the Money Unify API:

```json
{
    "message": "Transaction successful",
    "data": {
        "amount": "5.00",
        "customer_name": "Blessed Mwanza",
        "customerMobileWallet": "0769641179",
        "reference": "0762611179_1713450343",
        "status": "successful"
    },
    "isError": false
}
```

### Verifying a Payment

To verify a payment after requesting it, you can use the `verifyPayment` method. Here's how you can implement it:

1. **Call the `verifyPayment` Method**: This method takes the transaction reference as a parameter.

### Example Code for Verifying a Payment

```php
// Assuming the previous code is already present...

// Step 4: Verify the payment
$transactionReference = 'your_transaction_reference'; // Replace with the transaction reference
$verificationResponse = $moneyUnify->verifyPayment($transactionReference);

// Step 5: Check the verification response
if ($verificationResponse->isError) {
    // Handle the error
    echo "Error: " . $verificationResponse->message . "\n";
    echo "Console: " . ($verificationResponse->console ?? 'No console message to debug') . "\n";
} else {
    // Verification was successful
    echo "Verification Success: " . $verificationResponse->message . "\n";
    echo "Data: " . json_encode($verificationResponse->data) . "\n";
}
```

### Example Verification Response

Here‚Äôs an example of a verification response from the Money Unify API:

```json
{
  "message": "Transaction pending OTP confirmation",
  "data": {
    "amount": "1.00",
    "customer_name": "Dilip Okafor",
    "customerMobileWallet": "260975555555",
    "reference": "0975555555_1713447717",
    "status": "otp-required"
  },
  "isError": false
}
```

## Conclusion

The MoneyUnify library simplifies the process of integrating with the Money Unify API. By following the steps outlined in this documentation, you can easily set up and make payment requests, as well as verify transactions. For further assistance, feel free to reach out or check the official documentation for more advanced features.

# Author

üë§ **Blessed Jason Mwanza** - [Buy him a Coffee](https://www.buymeacoffee.com/mwanzabj)

- LinkedIn: [Connect with Blessed on LinkedIn](https://www.linkedin.com/in/blessedjasonmwanza)
- Github: [@blessedjasonmwanza](https://github.com/blessedjasonmwanza)
- Twitter: [Follow Blessed Jason @mwanzabj](https://twitter.com/mwanzabj)
- Youtube: [Youtube](https://www.youtube.com/@blessedjasonmwanza)

# ü§ù Contributing

Contributions, issues, and feature requests are welcome!

Feel free to check the [issues page](https://github.com/blessedjasonmwanza/MoneyUnify/issues).

# Show your support

Give a ‚≠êÔ∏è if you like this project! or [Donate](https://www.buymeacoffee.com/mwanzabj)